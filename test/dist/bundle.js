(()=>{const e=new PIXI.Application({resizeTo:window,background:"#545454",antialias:!0});document.body.appendChild(e.view),e.renderer.view.position="absolute",e.renderer.view.autoResize=!0,e.stage.interactive=!0,e.stage.hitArea=e.screen;const t=new PIXI.Container;e.stage.addChild(t),t.children.interactive=!1,t.sortableChildren=!0;const i=e.screen.width/2,n=e.screen.height/5,o=PIXI.Sprite.from("./src/parking.png");o.anchor.set(.5),o.x=i,o.y=n,o.interactive=!1,t.addChild(o);const s=PIXI.Sprite.from("./src/P.png");s.position.set(-65+i,160+n),s.anchor.set(.5),t.addChild(s);const r=PIXI.Sprite.from("./src/P2.png");r.position.set(65+i,160+n),r.anchor.set(.5),r.interactive=!0,t.addChild(r);const a=PIXI.Sprite.from("./src/FAIL.png");a.anchor.set(.5),a.position.set(i,e.screen.height/2);const c=PIXI.Sprite.from("./src/Logo.png");c.anchor.set(.5),c.position.set(i,e.screen.height/4),c.interactive=!1,c.alpha=0,c.scale.set(0);const l=PIXI.Sprite.from("./src/redcar.png");l.anchor.set(.5),l.position.set(-120+i,e.screen.height/1.2),l.interactive=!0,l.cursor="pointer",t.addChild(l);const d=PIXI.Sprite.from("./src/yellowcar.png");d.anchor.set(.5),d.position.set(120+i,e.screen.height/1.2),d.interactive=!0,d.cursor="pointer",t.addChild(d);const h=PIXI.Sprite.from("./src/button.png");h.position.set(i,e.screen.height/1.5),h.anchor.set(.5),h.interactive=!0,h.cursor="pointer",h.alpha=0,h.scale.set(0);const p=[],u=[];let g=null,m=null;function v(i,n){let o=new PIXI.Graphics;function c(t){let i=t.x,n=t.y;i|=0,n|=0,o.lineTo(i,n),g===l?p.push({x:t.x,y:t.y}):u.push({x:t.x,y:t.y}),p.length>0&&t.y>p[0].y+30&&e.stage.removeListener("pointermove",c)}o.zIndex=-1,o.moveTo(n.x,n.y),i===l.x?(o.lineStyle({width:10,color:"#cc0000",cap:"round"}),g=l,m=r):i===d.x&&(o.lineStyle({width:10,color:"#ffd966",cap:"round"}),g=d,m=s),g===l?p.push({x:n.x,y:n.y}):u.push({x:n.x,y:n.y}),e.stage.on("pointermove",c),e.stage.once("pointerup",(function(i){e.stage.removeListener("pointermove",c);const n=i.getLocalPosition(m);if(g.interactive&&(t.addChild(o),n.x<30&&n.x>-30&&n.y<30&&n.y>-30?g.interactive=!1:setTimeout((()=>{t.removeChild(o)}),500)),!l.interactive&&!d.interactive){let e=NaN,i=NaN;for(const t of p){for(const n of u)if(t.x>=n.x&&t.x<=n.x+10&&t.y>=n.y&&t.y<=n.y+10){e=t.x,i=t.y;break}if(!isNaN(e)&&!isNaN(i))break}if(isNaN(e)||isNaN(i))location.reload();else{var s=new TWEEN.Tween(l);s.to({x:e-20,y:i},1e3);var r=new TWEEN.Tween(d);for(let t=0;t<u.length-5;t++)r.to({x:e+20,y:i},1e3);s.start(),r.start(),function e(){requestAnimationFrame(e),l.rotation=.2,d.rotation=-.2,TWEEN.update()}(),setTimeout((()=>{t.addChild(a),setTimeout((()=>{y(),t.removeChild(t.children[0]),t.removeChild(o)}),1e3)}),1300)}}}))}const y=()=>{t.removeChild(a);let i=new PIXI.Graphics;i.beginFill(0,.5),i.drawRect(0,0,e.screen.width,e.screen.height),i.endFill(),e.stage.addChild(i),e.stage.addChild(c),e.stage.addChild(h),setTimeout((()=>{location.reload()}),1e4),e.ticker.add((function(e){h.alpha<1&&(h.alpha+=.01*e,h.scale.x+=.01*e,h.scale.y+=.01*e)})),e.ticker.add((function(e){c.alpha<1&&(c.alpha+=.01*e,c.scale.x+=.01*e,c.scale.y+=.01*e)}))};e.screen.width<600&&(o.scale.set(.65),o.y=n-25,r.scale.set(.75),r.position.set(45+i,75+n),s.scale.set(.75),s.position.set(-40+i,75+n),l.scale.set(.75),d.scale.set(.75),l.position.set(-80+i,e.screen.height/1.3),d.position.set(80+i,e.screen.height/1.3),a.scale.set(.75),h.position.set(i,e.screen.height/1.7),h.alpha=.4,c.alpha=.4),e.screen.height<700&&(o.scale.set(.65),o.y=n-30,r.scale.set(.75),r.position.set(45+i,70+n),s.scale.set(.75),s.position.set(-45+i,70+n),l.scale.set(.7),l.x=-90+i,d.x=90+i,d.scale.set(.7),a.scale.set(.65),h.position.set(i,e.screen.height/1.3),h.alpha=.4,c.alpha=.4),l.on("pointerdown",v.bind(null,l.x)),d.on("pointerdown",v.bind(null,d.x)),h.on("pointerdown",(()=>{window.open("https://roasup.com/")}));var x=setTimeout(w,2e4);function f(){clearTimeout(x),x=setTimeout(w,2e4)}function w(){y()}document.addEventListener("mousemove",f),document.addEventListener("keydown",f)})();